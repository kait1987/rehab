@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  /* Primary Colors - Terracotta */
  --color-primary-hover: var(--primary-hover);
  --color-primary-light: var(--primary-light);
  --color-primary-dark: var(--primary-dark);
  /* Secondary Colors - Soft Teal */
  --color-secondary-hover: var(--secondary-hover);
  --color-secondary-light: var(--secondary-light);
  --color-secondary-dark: var(--secondary-dark);
  /* Pain Traffic Light System */
  --color-pain-safe: var(--pain-safe);
  --color-pain-safe-light: var(--pain-safe-light);
  --color-pain-caution: var(--pain-caution);
  --color-pain-caution-light: var(--pain-caution-light);
  --color-pain-danger: var(--pain-danger);
  --color-pain-danger-light: var(--pain-danger-light);
  /* Accent Colors */
  --color-accent-light: var(--accent-light);
  --color-accent-lavender: var(--accent-lavender);
  --color-accent-lavender-light: var(--accent-lavender-light);
}

:root {
  --radius: 1rem; /* ë” ë‘¥ê·¼ ëª¨ì„œë¦¬ */
  /* REHAB ë””ìì¸ ì‹œìŠ¤í…œ - ì¹˜ìœ /íšŒë³µ ë¬´ë“œ (ë¼ì´íŠ¸ ëª¨ë“œ - í…Œë¼ì½”íƒ€ & í¬ë¦¼ ë² ì´ì§€) */
  --background: oklch(0.99 0.005 60); /* #FDFBF7 - ë”°ëœ»í•œ í¬ë¦¼ ë² ì´ì§€ */
  --foreground: oklch(0.25 0.01 250); /* #2D3748 - ì§™ì€ ì°¨ì½œ/ë‹¤í¬ ë¸Œë¼ìš´ */
  --card: oklch(1 0.002 60); /* ìˆœìˆ˜í•œ í¬ë¦¼ ë² ì´ì§€ í°ìƒ‰ */
  --card-foreground: oklch(0.25 0.01 250);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.25 0.01 250);
  /* Terracotta/Coral - ë©”ì¸ ë¸Œëœë“œ ì»¬ëŸ¬ (ì´ë¯¸ì§€ ì°¸ê³ : ë”°ëœ»í•œ muted ì˜¤ë Œì§€) */
  --primary: oklch(0.62 0.10 35); /* ë”°ëœ»í•œ muted í…Œë¼ì½”íƒ€/ì˜¤ë Œì§€ */
  --primary-foreground: oklch(1 0 0); /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
  --primary-hover: oklch(0.58 0.11 35); /* ì•½ê°„ ì–´ë‘ìš´ í…Œë¼ì½”íƒ€ - í˜¸ë²„ ìƒíƒœ */
  --primary-light: oklch(0.95 0.03 30); /* ì—°í•œ í…Œë¼ì½”íƒ€ - ë°°ê²½/ê°•ì¡°ìš© */
  --primary-dark: oklch(0.55 0.14 30); /* ì§„í•œ í…Œë¼ì½”íƒ€ - ê°•ì¡° í…ìŠ¤íŠ¸ */
  /* Cream Beige - ë³´ì¡° ë¸Œëœë“œ ì»¬ëŸ¬ (ì´ë¯¸ì§€ ì°¸ê³ : ë°ì€ í¬ë¦¼ ë² ì´ì§€) */
  --secondary: oklch(0.82 0.06 75); /* ë°ì€ í¬ë¦¼ ë² ì´ì§€ */
  --secondary-foreground: oklch(0.25 0.01 250); /* ì§™ì€ ì°¨ì½œ í…ìŠ¤íŠ¸ */
  --secondary-hover: oklch(0.78 0.07 75); /* ì•½ê°„ ì–´ë‘ìš´ í¬ë¦¼ ë² ì´ì§€ */
  --secondary-light: oklch(0.96 0.04 70); /* ì—°í•œ í¬ë¦¼ ë² ì´ì§€ - ë°°ê²½ìš© */
  --secondary-dark: oklch(0.75 0.08 75); /* ì§„í•œ í¬ë¦¼ ë² ì´ì§€ - ê°•ì¡° í…ìŠ¤íŠ¸ */
  --muted: oklch(0.97 0.003 60); /* ì—°í•œ í¬ë¦¼ ë² ì´ì§€ ë°°ê²½ */
  --muted-foreground: oklch(0.45 0.01 250); /* ì¤‘ê°„ ì°¨ì½œ í…ìŠ¤íŠ¸ */
  --accent: oklch(0.9 0.05 50); /* ë”°ëœ»í•œ ë² ì´ì§€ ì•¡ì„¼íŠ¸ */
  --accent-foreground: oklch(0.25 0.01 250);
  --accent-light: oklch(0.98 0.02 50); /* ì—°í•œ ë² ì´ì§€ */
  --accent-lavender: oklch(0.75 0.08 300); /* #C4B5D8 - í‰ì˜¨í•¨ (ìœ ì§€) */
  --accent-lavender-light: oklch(0.94 0.04 300); /* #F4F1F8 (ìœ ì§€) */
  --destructive: oklch(0.6 0.2 25); /* í†µì¦ ìœ„í—˜ ìƒ‰ìƒ (ìœ ì§€) */
  --border: oklch(0.92 0.01 60); /* ë¶€ë“œëŸ¬ìš´ í¬ë¦¼ ë² ì´ì§€ ë³´ë” */
  --input: oklch(0.99 0.003 60); /* í¬ë¦¼ ë² ì´ì§€ ì…ë ¥ í•„ë“œ */
  --ring: oklch(0.65 0.12 30); /* í…Œë¼ì½”íƒ€ í¬ì»¤ìŠ¤ ë§ */
  /* í†µì¦ ì‹ í˜¸ë“± ì‹œìŠ¤í…œ */
  --pain-safe: oklch(0.65 0.15 150); /* #7FB885 - í†µì¦ ì—†ìŒ, ì•ˆì „í•œ ìš´ë™ ê°€ëŠ¥ */
  --pain-safe-light: oklch(0.95 0.06 150); /* #E8F5EA - ë°°ê²½ */
  --pain-caution: oklch(0.75 0.15 70); /* #E6C85A - ê²½ë¯¸í•œ í†µì¦, ì£¼ì˜ í•„ìš” */
  --pain-caution-light: oklch(0.96 0.06 70); /* #FDF8E8 - ë°°ê²½ */
  --pain-danger: oklch(0.6 0.2 25); /* #D97757 - ì‹¬í•œ í†µì¦, ìš´ë™ ì¤‘ë‹¨ ê¶Œì¥ */
  --pain-danger-light: oklch(0.96 0.08 25); /* #FDF0ED - ë°°ê²½ */
  --chart-1: oklch(0.65 0.12 30); /* Terracotta */
  --chart-2: oklch(0.85 0.08 70); /* Sand Beige */
  --chart-3: oklch(0.75 0.15 70); /* Caution Yellow (ìœ ì§€) */
  --chart-4: oklch(0.9 0.05 50); /* Warm Beige */
  --chart-5: oklch(0.75 0.08 300); /* Lavender (ìœ ì§€) */
  --sidebar: oklch(0.99 0.005 60);
  --sidebar-foreground: oklch(0.25 0.01 250);
  --sidebar-primary: oklch(0.65 0.12 30);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.97 0.003 60);
  --sidebar-accent-foreground: oklch(0.25 0.01 250);
  --sidebar-border: oklch(0.92 0.01 60);
  --sidebar-ring: oklch(0.65 0.12 30);
}

.dark {
  /* REHAB ë””ìì¸ ì‹œìŠ¤í…œ - ë‹¤í¬ ëª¨ë“œ + í…Œë¼ì½”íƒ€ í¬ì¸íŠ¸ ì»¬ëŸ¬ */
  --background: oklch(0.18 0.015 60); /* ì–´ë‘ìš´ í¬ë¦¼ ë² ì´ì§€ í†¤ - ë”°ëœ»í•œ ë‹¤í¬ */
  --foreground: oklch(0.98 0 0); /* í°ìƒ‰ */
  --card: oklch(0.22 0.02 60); /* ì•½ê°„ ë°ì€ í¬ë¦¼ ë² ì´ì§€ í†¤ - ì¹´ë“œ ë°°ê²½ */
  --card-foreground: oklch(0.98 0 0);
  --popover: oklch(0.22 0.02 60);
  --popover-foreground: oklch(0.98 0 0);
  /* Terracotta/Coral - Primary ë²„íŠ¼ í¬ì¸íŠ¸ ì»¬ëŸ¬ (ì´ë¯¸ì§€ ì°¸ê³ : ë”°ëœ»í•œ muted ì˜¤ë Œì§€) */
  --primary: oklch(0.62 0.10 35); /* ë”°ëœ»í•œ muted í…Œë¼ì½”íƒ€/ì˜¤ë Œì§€ */
  --primary-foreground: oklch(0.98 0 0); /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
  --primary-hover: oklch(0.67 0.11 35); /* ì•½ê°„ ë°ì€ í…Œë¼ì½”íƒ€ - í˜¸ë²„ ìƒíƒœ */
  --primary-light: oklch(0.25 0.04 30); /* ë‹¤í¬ ëª¨ë“œìš© ì—°í•œ í…Œë¼ì½”íƒ€ ë°°ê²½ */
  --primary-dark: oklch(0.58 0.11 35); /* ì§„í•œ í…Œë¼ì½”íƒ€ - ê°•ì¡° í…ìŠ¤íŠ¸ */
  /* Cream Beige - Secondary ë²„íŠ¼ í¬ì¸íŠ¸ ì»¬ëŸ¬ (ì´ë¯¸ì§€ ì°¸ê³ : ë°ì€ í¬ë¦¼ ë² ì´ì§€) */
  --secondary: oklch(0.82 0.06 75); /* ë°ì€ í¬ë¦¼ ë² ì´ì§€ */
  --secondary-foreground: oklch(0.20 0.01 250); /* ì§™ì€ ì°¨ì½œ í…ìŠ¤íŠ¸ */
  --secondary-hover: oklch(0.85 0.07 75); /* ì•½ê°„ ë°ì€ í¬ë¦¼ ë² ì´ì§€ */
  --secondary-light: oklch(0.25 0.03 70); /* ë‹¤í¬ ëª¨ë“œìš© ì—°í•œ ìƒŒë“œ ë² ì´ì§€ ë°°ê²½ */
  --secondary-dark: oklch(0.78 0.07 75); /* ì§„í•œ í¬ë¦¼ ë² ì´ì§€ - ê°•ì¡° í…ìŠ¤íŠ¸ */
  --muted: oklch(0.24 0.02 60); /* ì—°í•œ í¬ë¦¼ ë² ì´ì§€ í†¤ ë°°ê²½ */
  --muted-foreground: oklch(0.75 0.01 60); /* ì¤‘ê°„ í¬ë¦¼ ë² ì´ì§€ í…ìŠ¤íŠ¸ */
  --accent: oklch(0.78 0.08 55); /* ë”°ëœ»í•œ í¬ë¦¼ ë² ì´ì§€ ì•¡ì„¼íŠ¸ */
  --accent-foreground: oklch(0.98 0 0);
  --accent-light: oklch(0.26 0.03 55); /* ë‹¤í¬ ëª¨ë“œìš© í¬ë¦¼ ë² ì´ì§€ ë°°ê²½ */
  --accent-lavender: oklch(0.7 0.08 300); /* ë¼ë²¤ë” (ìœ ì§€) */
  --accent-lavender-light: oklch(0.25 0.04 300); /* ë¼ë²¤ë” ë¼ì´íŠ¸ (ìœ ì§€) */
  --destructive: oklch(0.65 0.22 25); /* í†µì¦ ìœ„í—˜ ìƒ‰ìƒ (ìœ ì§€) */
  --border: oklch(0.35 0.02 60); /* í¬ë¦¼ ë² ì´ì§€ í†¤ ë³´ë” */
  --input: oklch(0.22 0.02 60); /* í¬ë¦¼ ë² ì´ì§€ í†¤ ì…ë ¥ í•„ë“œ */
  --ring: oklch(0.65 0.12 30); /* í…Œë¼ì½”íƒ€ í¬ì»¤ìŠ¤ ë§ */
  /* í†µì¦ ì‹ í˜¸ë“± ì‹œìŠ¤í…œ - ë‹¤í¬ ëª¨ë“œ */
  --pain-safe: oklch(0.7 0.15 150);
  --pain-safe-light: oklch(0.25 0.06 150);
  --pain-caution: oklch(0.8 0.15 70);
  --pain-caution-light: oklch(0.25 0.06 70);
  --pain-danger: oklch(0.65 0.22 25);
  --pain-danger-light: oklch(0.25 0.08 25);
  --chart-1: oklch(0.65 0.12 30); /* Terracotta */
  --chart-2: oklch(0.75 0.08 70); /* Sand Beige */
  --chart-3: oklch(0.75 0.15 70); /* Caution Yellow (ìœ ì§€) */
  --chart-4: oklch(0.80 0.06 50); /* Warm Beige */
  --chart-5: oklch(0.75 0.08 300); /* Lavender (ìœ ì§€) */
  --sidebar: oklch(0.20 0.01 60);
  --sidebar-foreground: oklch(0.98 0 0);
  --sidebar-primary: oklch(0.65 0.12 30);
  --sidebar-primary-foreground: oklch(0.98 0 0);
  --sidebar-accent: oklch(0.24 0.01 60);
  --sidebar-accent-foreground: oklch(0.98 0 0);
  --sidebar-border: oklch(0.32 0.01 60);
  --sidebar-ring: oklch(0.65 0.12 30);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
    /* ğŸ“± Phase 1: í„°ì¹˜ ìµœì í™” */
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    -webkit-touch-callout: none;
  }
  html,
  body {
    margin: 0;
    padding: 0;
    /* ğŸ“± Phase 3: ìŠ¤í¬ë¡¤ ë°”ìš´ìŠ¤ ë°©ì§€ */
    overscroll-behavior: none;
    scroll-behavior: smooth;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-geist-sans), sans-serif;
    line-height: 1.7; /* ë„“ì€ ì¤„ê°„ê²©ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ */
    position: relative;
  }
  main {
    @apply max-w-7xl mx-auto px-4;
  }

  /* ğŸ“± Phase 1: ìµœì†Œ íƒ­ ì˜ì—­ (Apple ê¶Œì¥ 44px) */
  button,
  a,
  [role="button"],
  .btn {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
  }

  /* ğŸ“± Phase 1: í„°ì¹˜ í”¼ë“œë°± */
  button:active,
  a:active,
  [role="button"]:active {
    transform: scale(0.97);
    transition: transform 0.1s ease;
  }
}

@layer utilities {
  /* Radial gradient ìœ í‹¸ë¦¬í‹° */
  .bg-gradient-radial {
    background-image: radial-gradient(circle, var(--tw-gradient-stops));
  }
  .bg-gradient-radial-from {
    background-image: radial-gradient(
      circle at center,
      var(--tw-gradient-stops)
    );
  }

  /* ğŸ“± Phase 3: Safe Area ëŒ€ì‘ (ë…¸ì¹˜, í™ˆë°”) */
  .safe-area-padding {
    padding-bottom: env(safe-area-inset-bottom, 20px);
    padding-top: env(safe-area-inset-top, 0px);
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 20px);
  }

  /* ğŸ“± Phase 3: ë™ì  ë·°í¬íŠ¸ ë†’ì´ (í‚¤ë³´ë“œ ëŒ€ì‘) */
  .full-screen {
    height: 100vh;
    height: 100dvh;
  }

  .min-full-screen {
    min-height: 100vh;
    min-height: 100dvh;
  }
}

/* --- Step Loader Animation --- */
.loader {
  position: relative;
  width: 120px;
  height: 90px;
  margin: 0 auto;
}

.loader:before {
  content: "";
  position: absolute;
  bottom: 30px;
  left: 50px;
  height: 30px;
  width: 30px;
  border-radius: 50%;
  /* ì•± í…Œë§ˆ ìƒ‰ìƒ: Terracotta */
  background: oklch(0.62 0.10 35);
  animation: loading-bounce 0.5s ease-in-out infinite alternate;
}

.loader:after {
  content: "";
  position: absolute;
  right: 0;
  top: 0;
  height: 7px;
  width: 45px;
  border-radius: 4px;
  /* ê·¸ë¦¼ì ìƒ‰ìƒ: ë¶€ë“œëŸ¬ìš´ íšŒìƒ‰ì¡° */
  box-shadow: 0 5px 0 oklch(0.35 0.02 60), -35px 50px 0 oklch(0.35 0.02 60), -70px 95px 0 oklch(0.35 0.02 60);
  animation: loading-step 1s ease-in-out infinite;
}

@keyframes loading-bounce {
  0% {
    transform: scale(1, 0.7);
  }
  40% {
    transform: scale(0.8, 1.2);
  }
  60% {
    transform: scale(1, 1);
  }
  100% {
    bottom: 140px;
  }
}

@keyframes loading-step {
  0% {
    box-shadow: 0 10px 0 rgba(0, 0, 0, 0),
      0 10px 0 oklch(0.35 0.02 60),
      -35px 50px 0 oklch(0.35 0.02 60),
      -70px 90px 0 oklch(0.35 0.02 60);
  }
  100% {
    box-shadow: 0 10px 0 oklch(0.35 0.02 60),
      -35px 50px 0 oklch(0.35 0.02 60),
      -70px 90px 0 oklch(0.35 0.02 60),
      -70px 90px 0 rgba(0, 0, 0, 0);
  }
}
